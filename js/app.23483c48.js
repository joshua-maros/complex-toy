(function(e){function t(t){for(var a,o,r=t[0],u=t[1],c=t[2],d=0,f=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);s&&s(t);while(f.length)f.shift()();return l.push.apply(l,c||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],a=!0,r=1;r<n.length;r++){var u=n[r];0!==i[u]&&(a=!1)}a&&(l.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={app:0},l=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/complex-toy/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var s=u;l.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"12e7":function(e,t,n){},8445:function(e,t,n){},"95b7":function(e,t,n){"use strict";n("8445")},9839:function(e,t,n){},b082:function(e,t,n){},b9b7:function(e,t,n){"use strict";n("c63d")},c63d:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function i(e,t,n,i,l,o){var r=Object(a["k"])("the-main-part");return Object(a["f"])(),Object(a["c"])(r)}var l=Object(a["m"])("data-v-61ecf59a");Object(a["h"])("data-v-61ecf59a");var o={id:"the-main-part"};Object(a["g"])();var r=l((function(e,t,n,i,l,r){var u=Object(a["k"])("value-editor"),c=Object(a["k"])("result-editor");return Object(a["f"])(),Object(a["c"])("div",o,[Object(a["d"])(u,{id:"a",title:"A",modelValue:e.a,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.a=t})},null,8,["modelValue"]),Object(a["d"])(u,{id:"b",title:"B",modelValue:e.b,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.b=t})},null,8,["modelValue"]),Object(a["d"])(c,{id:"result",title:"Result",a:e.a,b:e.b},null,8,["a","b"])])})),u=(n("b0c0"),Object(a["m"])("data-v-7acc61be"));Object(a["h"])("data-v-7acc61be");var c={class:"value-editor-root"},s={class:"toolbar"},d={class:"title"},f={class:"radioGroup"};Object(a["g"])();var p=u((function(e,t,n,i,l,o){var r=Object(a["k"])("value-display");return Object(a["f"])(),Object(a["c"])("div",c,[Object(a["d"])("div",s,[Object(a["d"])("span",d,Object(a["l"])(e.title),1),Object(a["d"])("span",f,[(Object(a["f"])(!0),Object(a["c"])(a["a"],null,Object(a["j"])(e.ops,(function(t){return Object(a["f"])(),Object(a["c"])("button",{key:t.name,class:{selected:e.modelValue===t.name},onClick:function(n){return e.modelValue=t.name}},Object(a["l"])(t.label),11,["onClick"])})),128))])]),Object(a["d"])(r,{value:e.result},null,8,["value"])])})),v=n("b85c"),b=n("2909");function h(e,t,n,i,l,o){var r=Object(a["k"])("vue-canvas");return Object(a["f"])(),Object(a["c"])(r,{onDraw:e.draw,onMousedown:e.forwardMouseEvent,onMouseup:e.forwardMouseEvent,onMousemove:e.forwardMouseEvent},null,8,["onDraw","onMousedown","onMouseup","onMousemove"])}n("cb29");var m=Object(a["m"])("data-v-a2fac968");Object(a["h"])("data-v-a2fac968");var y={id:"outer-box",ref:"outerBox"},O={ref:"canvas"};Object(a["g"])();var j=m((function(e,t,n,i,l,o){return Object(a["f"])(),Object(a["c"])("div",y,[Object(a["d"])("canvas",O,null,512)],512)})),x=Object(a["e"])({name:"VueCanvas",emits:{draw:function(e){return!0}},setup:function(){return{canvas:Object(a["i"])(null),outerBox:Object(a["i"])(null),context:null,resizeListener:function(){},mounted:!1}},mounted:function(){var e=this;this.canvas&&(this.updateCanvasSize(),this.context=this.canvas.getContext("2d"),this.resizeListener=function(){return e.updateCanvasSize()},window.addEventListener("resize",this.resizeListener)),this.mounted=!0,requestAnimationFrame((function(){return e.draw()}))},unmounted:function(){this.mounted=!1,window.removeEventListener("resize",this.resizeListener)},methods:{updateCanvasSize:function(){null!==this.canvas&&null!==this.outerBox&&(this.canvas.width=this.outerBox.clientWidth,this.canvas.height=this.outerBox.clientHeight)},draw:function(){var e=this;if(null!==this.context){var t={ctx:this.context,w:this.context.canvas.width,h:this.context.canvas.height};t.ctx.globalCompositeOperation="source-over",t.ctx.fillStyle="#000",t.ctx.fillRect(0,0,t.w,t.h),this.$emit("draw",t)}this.mounted&&requestAnimationFrame((function(){return e.draw()}))}}});n("95b7");x.render=j,x.__scopeId="data-v-a2fac968";var w=x,g=Object(a["e"])({name:"ValueDisplay",components:{VueCanvas:w},props:{value:{type:Object,required:!0}},data:function(){return{lastScale:1,lastCenter:[1,1]}},emits:{mouse:function(e){return!0}},methods:{forwardMouseEvent:function(e){var t=(e.clientX-this.lastCenter[0])*this.lastScale,n=-(e.clientY-this.lastCenter[1])*this.lastScale,a=e.buttons>0;this.$emit("mouse",{x:t,y:n,mouseDown:a})},drawLine:function(e,t,n,a,i){var l=e.ctx;l.beginPath(),l.moveTo(t,n),l.lineTo(a,i),l.stroke()},drawGrid:function(e,t){var n=e.ctx,a=e.w,i=e.h,l=Math.floor(a/2)+.5,o=Math.floor(i/2)+.5;n.lineWidth=1,n.globalCompositeOperation="lighten",n.fillStyle="#fff";var r="#222",u="#555",c="#fff",s=0,d=0,f=0,p=5,v=1/(t*p);d=o%v,f=Math.floor((o-d+1)/v);while(d<i){if(n.strokeStyle=r,f%p===0){n.strokeStyle=c,this.drawLine(e,l-v/2,d,l+v/2,d),n.font="1.5rem sans";var b=0===f?"0":"".concat(f/p,"i");n.fillText(b,l+2,d-5),n.strokeStyle=u}0===f&&(n.strokeStyle=c),this.drawLine(e,0,d,a,d),f-=1,d+=v}s=l%v,f=Math.floor((s-l+1)/v);while(s<a)n.strokeStyle=r,f%p===0&&(n.strokeStyle=c,this.drawLine(e,s,o-v/2,s,o+v/2),n.strokeStyle=u),0===f&&(n.strokeStyle=c),this.drawLine(e,s,0,s,i),f+=1,s+=v},translatePoint:function(e,t,n){e.ctx;var a=e.w,i=e.h,l=Math.floor(a/2)+.5,o=Math.floor(i/2)+.5;return{x:l+t.x/n,y:o-t.y/n}},drawPoint:function(e,t,n,a){var i=e.ctx,l=e.w,o=e.h,r=(Math.floor(l/2),Math.floor(o/2),this.translatePoint(e,t,a)),u=r.x,c=r.y;i.beginPath(),i.ellipse(u,c,n,n,0,0,2*Math.PI),i.fill()},draw:function(e){var t=e.ctx,n=e.w,a=e.h,i=2.25,l=i/(Math.min(n,a)/2);this.lastScale=l;var o=t.canvas.getBoundingClientRect();if(this.lastCenter=[n/2+o.left,a/2+o.top],this.drawGrid(e,l),t.fillStyle="#ff0",t.globalCompositeOperation="source-over","single"===this.value.type){var r=.1/l;this.drawPoint(e,this.value.value,r,l)}else if("multiple"===this.value.type){var u,c=.04/l,s=10,d=Object(v["a"])(this.value.value);try{for(d.s();!(u=d.n()).done;){var f=u.value;t.fillStyle="hsl(".concat(s,", 100%, 50%)"),s+=.8,this.drawPoint(e,f,c,l)}}catch(p){d.e(p)}finally{d.f()}}}}});g.render=h;var M=g;function k(e,t,n){if("addition"===e)return{x:t.x+n.x,y:t.y+n.y};if("subtraction"===e)return{x:t.x-n.x,y:t.y-n.y};if("multiplication"===e)return{x:t.x*n.x-t.y*n.y,y:t.x*n.y+t.y*n.x};if("division"===e){var a=n.x*n.x+n.y*n.y;return{x:(t.x*n.x+t.y*n.y)/a,y:(t.y*n.x-t.x*n.y)/a}}throw new Error("do it yourself")}var V=Object(a["e"])({name:"ValueEditor",components:{ValueDisplay:M},props:{title:String,a:{type:Object,required:!0},b:{type:Object,required:!0}},computed:{result:function(){var e=[];"single"===this.a.type?e.push(this.a.value):e.push.apply(e,Object(b["a"])(this.a.value));var t=[];"single"===this.b.type?t.push(this.b.value):t.push.apply(t,Object(b["a"])(this.b.value));for(var n=[],a=0,i=e;a<i.length;a++){var l,o=i[a],r=Object(v["a"])(t);try{for(r.s();!(l=r.n()).done;){var u=l.value;n.push(k(this.modelValue,o,u))}}catch(c){r.e(c)}finally{r.f()}}return 1===n.length?{type:"single",value:n[0]}:{type:"multiple",value:n}}},data:function(){return{ops:[{name:"addition",label:"A+B"},{name:"subtraction",label:"A-B"},{name:"multiplication",label:"A×B"},{name:"division",label:"A÷B"},{name:"power",label:"Aᴮ"}],modelValue:"addition"}}});n("d65b");V.render=p,V.__scopeId="data-v-7acc61be";var S=V,C=Object(a["m"])("data-v-3ff5a584");Object(a["h"])("data-v-3ff5a584");var P={class:"value-editor-root"},_={class:"toolbar"},B={class:"title"},E={class:"radioGroup"};Object(a["g"])();var L=C((function(e,t,n,i,l,o){var r=Object(a["k"])("value-display");return Object(a["f"])(),Object(a["c"])("div",P,[Object(a["d"])("div",_,[Object(a["d"])("span",B,Object(a["l"])(e.title),1),Object(a["d"])("button",{onClick:t[1]||(t[1]=function(){return e.clear&&e.clear.apply(e,arguments)})},"clear"),Object(a["d"])("span",E,[Object(a["d"])("button",{class:{selected:"single"===e.modelValue.type},onClick:t[2]||(t[2]=function(){return e.makeSingle&&e.makeSingle.apply(e,arguments)})}," single ",2),Object(a["d"])("button",{class:{selected:"multiple"===e.modelValue.type},onClick:t[3]||(t[3]=function(){return e.makeMultiple&&e.makeMultiple.apply(e,arguments)})}," multiple ",2)])]),Object(a["d"])(r,{value:e.modelValue,onMouse:e.onMouse},null,8,["value","onMouse"])])})),A=(n("99af"),Object(a["e"])({name:"ValueEditor",components:{ValueDisplay:M},props:{title:String,modelValue:{type:Object,required:!0}},emits:["update:modelValue"],methods:{onMouse:function(e){if(e.mouseDown)if("single"===this.modelValue.type){var t=e.x,n=e.y;this.$emit("update:modelValue",{type:"single",value:{x:t,y:n}})}else if("multiple"===this.modelValue.type){var a=e.x,i=e.y,l=this.modelValue.value;this.$emit("update:modelValue",{type:"multiple",value:[].concat(Object(b["a"])(l),[{x:a,y:i}])})}},clear:function(){"single"===this.modelValue.type?this.makeSingle():"multiple"===this.modelValue.type&&this.makeMultiple()},makeSingle:function(){this.$emit("update:modelValue",{type:"single",value:{x:0,y:0}})},makeMultiple:function(){this.$emit("update:modelValue",{type:"multiple",value:[]})}}}));n("f3d3");A.render=L,A.__scopeId="data-v-3ff5a584";var z=A,D=Object(a["e"])({name:"App",components:{ValueEditor:z,ResultEditor:S},data:function(){return{a:{type:"single",value:{x:0,y:0}},b:{type:"single",value:{x:0,y:0}}}}});n("b9b7");D.render=r,D.__scopeId="data-v-61ecf59a";var q=D,T=Object(a["e"])({name:"App",components:{TheMainPart:q}});n("ffee");T.render=i;var $=T;Object(a["b"])($).mount("#app")},d65b:function(e,t,n){"use strict";n("9839")},f3d3:function(e,t,n){"use strict";n("12e7")},ffee:function(e,t,n){"use strict";n("b082")}});
//# sourceMappingURL=app.23483c48.js.map