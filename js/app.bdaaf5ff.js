(function(e){function t(t){for(var a,l,r=t[0],u=t[1],s=t[2],d=0,p=[];d<r.length;d++)l=r[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&p.push(i[l][0]),i[l]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);c&&c(t);while(p.length)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,r=1;r<n.length;r++){var u=n[r];0!==i[u]&&(a=!1)}a&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},i={app:0},o=[];function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/complex-toy/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=t,r=r.slice();for(var s=0;s<r.length;s++)t(r[s]);var c=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},2976:function(e,t,n){"use strict";n("4d02")},"4d02":function(e,t,n){},"573f":function(e,t,n){"use strict";n("6b6a")},"6b6a":function(e,t,n){},"773e":function(e,t,n){"use strict";n("7dbd")},"7dbd":function(e,t,n){},8445:function(e,t,n){},"95b7":function(e,t,n){"use strict";n("8445")},b082:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function i(e,t,n,i,o,l){var r=Object(a["m"])("the-main-part");return Object(a["h"])(),Object(a["c"])(r)}var o=Object(a["q"])("data-v-217d18c9");Object(a["j"])("data-v-217d18c9");var l={id:"the-main-part"};Object(a["i"])();var r=o((function(e,t,n,i,o,r){var u=Object(a["m"])("value-editor"),s=Object(a["m"])("result-editor");return Object(a["h"])(),Object(a["c"])("div",l,[Object(a["f"])(u,{id:"a",title:"A",modelValue:e.a,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.a=t})},null,8,["modelValue"]),Object(a["f"])(u,{id:"b",title:"B",modelValue:e.b,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.b=t})},null,8,["modelValue"]),Object(a["f"])(s,{id:"result",title:"Result",a:e.a,b:e.b},null,8,["a","b"])])})),u=(n("7db0"),n("b0c0"),Object(a["q"])("data-v-78f77fb4"));Object(a["j"])("data-v-78f77fb4");var s={class:"value-editor-root"},c={class:"toolbar"},d={class:"title"},p={class:"radioGroup"};Object(a["i"])();var h=u((function(e,t,n,i,o,l){var r=Object(a["m"])("value-display");return Object(a["h"])(),Object(a["c"])("div",s,[Object(a["f"])("div",c,[Object(a["f"])("span",d,Object(a["n"])(e.ops.find((function(t){return t.name===e.modelValue})).label),1),Object(a["f"])("span",p,[(Object(a["h"])(!0),Object(a["c"])(a["a"],null,Object(a["l"])(e.ops,(function(t){return Object(a["h"])(),Object(a["c"])("button",{key:t.name,class:{selected:e.modelValue===t.name},onClick:function(n){return e.modelValue=t.name}},Object(a["n"])(t.label),11,["onClick"])})),128))])]),Object(a["f"])(r,{value:e.result},null,8,["value"])])})),b=n("b85c"),f=n("2909");function v(e,t,n,i,o,l){var r=Object(a["m"])("vue-canvas");return Object(a["h"])(),Object(a["c"])(r,{onDraw:e.draw,onMousedown:e.forwardMouseEvent,onMouseup:e.forwardMouseEvent,onMousemove:e.forwardMouseEvent,onWheel:e.onWheel},null,8,["onDraw","onMousedown","onMouseup","onMousemove","onWheel"])}n("cb29");var m=Object(a["q"])("data-v-a2fac968");Object(a["j"])("data-v-a2fac968");var y={id:"outer-box",ref:"outerBox"},O={ref:"canvas"};Object(a["i"])();var j=m((function(e,t,n,i,o,l){return Object(a["h"])(),Object(a["c"])("div",y,[Object(a["f"])("canvas",O,null,512)],512)})),x=Object(a["g"])({name:"VueCanvas",emits:{draw:function(e){return!0}},setup:function(){return{canvas:Object(a["k"])(null),outerBox:Object(a["k"])(null),context:null,resizeListener:function(){},mounted:!1}},mounted:function(){var e=this;this.canvas&&(this.updateCanvasSize(),this.context=this.canvas.getContext("2d"),this.resizeListener=function(){return e.updateCanvasSize()},window.addEventListener("resize",this.resizeListener)),this.mounted=!0,requestAnimationFrame((function(){return e.draw()}))},unmounted:function(){this.mounted=!1,window.removeEventListener("resize",this.resizeListener)},methods:{updateCanvasSize:function(){null!==this.canvas&&null!==this.outerBox&&(this.canvas.width=this.outerBox.clientWidth,this.canvas.height=this.outerBox.clientHeight)},draw:function(){var e=this;if(null!==this.context){var t={ctx:this.context,w:this.context.canvas.width,h:this.context.canvas.height};t.ctx.globalCompositeOperation="source-over",t.ctx.fillStyle="#000",t.ctx.fillRect(0,0,t.w,t.h),this.$emit("draw",t)}this.mounted&&requestAnimationFrame((function(){return e.draw()}))}}});n("95b7");x.render=j,x.__scopeId="data-v-a2fac968";var w=x,g=Object(a["g"])({name:"ValueDisplay",components:{VueCanvas:w},props:{value:{type:Object,required:!0}},data:function(){return{lastScale:1,lastCenter:[1,1],zoom:1}},emits:{mouse:function(e){return!0}},methods:{forwardMouseEvent:function(e){var t=(e.clientX-this.lastCenter[0])*this.lastScale,n=-(e.clientY-this.lastCenter[1])*this.lastScale,a=e.buttons>0;this.$emit("mouse",{x:t,y:n,mouseDown:a})},onWheel:function(e){this.zoom*=Math.exp(e.deltaY/-300)},drawLine:function(e,t,n,a,i){var o=e.ctx;o.beginPath(),o.moveTo(t,n),o.lineTo(a,i),o.stroke()},drawGrid:function(e,t){var n=e.ctx,a=e.w,i=e.h,o=Math.floor(a/2)+.5,l=Math.floor(i/2)+.5;n.lineWidth=1,n.globalCompositeOperation="lighten",n.fillStyle="#fff";var r="#222",u="#555",s="#fff",c=0,d=0,p=0,h=5,b=.5;this.zoom<=1&&(b=1),this.zoom<=.5&&(b=2),this.zoom<=.2&&(b=5),this.zoom<=.1&&(b=10),this.zoom<=.05&&(b=20),this.zoom<=.02&&(b=50),this.zoom<=.01&&(b=100),b/=5;var f=1/(t/b);d=l%f,p=Math.floor((l-d+1)/f);while(d<i){if(p%h===0){n.strokeStyle=s,this.drawLine(e,o-f/2,d,o+f/2,d),n.font="1.5rem sans";var v=0===p?"0":"".concat(b*p,"i");n.fillText(v,o+2,d-5)}n.strokeStyle=r,p%(1/b)===0&&(n.strokeStyle=u),0===p&&(n.strokeStyle=s),this.drawLine(e,0,d,a,d),p-=1,d+=f}c=o%f,p=Math.floor((c-o+1)/f);while(c<a)n.strokeStyle=r,p%h===0&&(n.strokeStyle=s,this.drawLine(e,c,l-f/2,c,l+f/2)),n.strokeStyle=r,p%(1/b)===0&&(n.strokeStyle=u),0===p&&(n.strokeStyle=s),this.drawLine(e,c,0,c,i),p+=1,c+=f},translatePoint:function(e,t,n){e.ctx;var a=e.w,i=e.h,o=Math.floor(a/2)+.5,l=Math.floor(i/2)+.5;return{x:o+t.x/n,y:l-t.y/n}},drawPoint:function(e,t,n,a){var i=e.ctx,o=e.w,l=e.h,r=(Math.floor(o/2),Math.floor(l/2),this.translatePoint(e,t,a)),u=r.x,s=r.y;i.beginPath(),i.ellipse(u,s,n,n,0,0,2*Math.PI),i.fill()},draw:function(e){var t=e.ctx,n=e.w,a=e.h,i=2.25/this.zoom,o=i/(Math.min(n,a)/2);this.lastScale=o;var l=t.canvas.getBoundingClientRect();if(this.lastCenter=[n/2+l.left,a/2+l.top],this.drawGrid(e,o),t.fillStyle="#ff0",t.globalCompositeOperation="source-over","single"===this.value.type){var r=.1/o/this.zoom;this.drawPoint(e,this.value.value,r,o)}else if("vector"===this.value.type){var u=this.translatePoint(e,{x:0,y:0},o),s=u.x,c=u.y,d=this.translatePoint(e,this.value.value,o),p=d.x,h=d.y;t.lineWidth=.3/o/this.zoom;var f=Math.atan2(h-c,p-s);t.strokeStyle="#D400A4",t.beginPath(),t.arc(s,c,.4/o/this.zoom,0,f,f<0),t.stroke(),t.lineWidth=5,t.strokeStyle="#0E76FF",t.fillStyle=t.strokeStyle,t.beginPath(),t.moveTo(s,c),t.lineTo(p,h),t.stroke();var v=.1/o/this.zoom;this.drawPoint(e,this.value.value,v,o)}else if("multiple"===this.value.type){var m,y=.04/o/this.zoom,O=10,j=Object(b["a"])(this.value.value);try{for(j.s();!(m=j.n()).done;){var x=m.value;t.fillStyle="hsl(".concat(O,", 100%, 50%)"),O+=.8,this.drawPoint(e,x,y,o)}}catch(w){j.e(w)}finally{j.f()}}}}});g.render=v;var M=g;function V(e,t,n){if("addition"===e)return{x:t.x+n.x,y:t.y+n.y};if("subtraction"===e)return{x:t.x-n.x,y:t.y-n.y};if("multiplication"===e)return{x:t.x*n.x-t.y*n.y,y:t.x*n.y+t.y*n.x};if("division"===e){var a=n.x*n.x+n.y*n.y;return{x:(t.x*n.x+t.y*n.y)/a,y:(t.y*n.x-t.x*n.y)/a}}if("exponentiation"===e){var i={x:Math.exp(n.x)*Math.cos(n.y),y:Math.exp(n.x)*Math.sin(n.y)};return V("multiplication",t,i)}if("twoexp"===e){var o=V("multiplication",t,n);return V("exponentiation",{x:1,y:0},o)}if("addexp"===e){var l=V("addition",t,n);return V("exponentiation",{x:1,y:0},l)}throw new Error("Unexpected op: ".concat(e))}var k=Object(a["g"])({name:"ValueEditor",components:{ValueDisplay:M},props:{a:{type:Object,required:!0},b:{type:Object,required:!0}},computed:{result:function(){var e=[];"single"===this.a.type||"vector"===this.a.type?e.push(this.a.value):e.push.apply(e,Object(f["a"])(this.a.value));var t=[];"single"===this.b.type||"vector"===this.b.type?t.push(this.b.value):t.push.apply(t,Object(f["a"])(this.b.value));for(var n=[],a=0,i=e;a<i.length;a++){var o,l=i[a],r=Object(b["a"])(t);try{for(r.s();!(o=r.n()).done;){var u=o.value;n.push(V(this.modelValue,l,u))}}catch(s){r.e(s)}finally{r.f()}}return 1===n.length?{type:this.a.type,value:n[0]}:{type:"multiple",value:n}}},data:function(){return{ops:[{name:"addition",label:"A+B"},{name:"subtraction",label:"A-B"},{name:"multiplication",label:"A×B"},{name:"division",label:"A÷B"},{name:"exponentiation",label:"A𝑒ᴮ"},{name:"addexp",label:"𝑒ᴬ⁺ᴮ"},{name:"twoexp",label:"𝑒ᴬᴮ"}],modelValue:"addition"}}});n("773e");k.render=h,k.__scopeId="data-v-78f77fb4";var S=k,z=Object(a["q"])("data-v-5b0678be");Object(a["j"])("data-v-5b0678be");var P={class:"value-editor-root"},C={class:"toolbar"},A={class:"title"},W={class:"radioGroup"},_=Object(a["e"])('<option value="none" data-v-5b0678be>No Animation</option><option value="spin" data-v-5b0678be>Spin</option><option value="wiggle" data-v-5b0678be>Wiggle</option><option value="wobble" data-v-5b0678be>Wobble</option><option value="figure8" data-v-5b0678be>Figure 8</option><option value="spin+wobble" data-v-5b0678be>Spin+Wobble</option><option value="spin+figure8" data-v-5b0678be>Spin+Figure 8</option><option value="wiggle+wobble" data-v-5b0678be>Wiggle+Wobble</option><option value="wobble+figure8" data-v-5b0678be>Wobble+Figure 8</option>',9);Object(a["i"])();var E=z((function(e,t,n,i,o,l){var r=Object(a["m"])("value-display");return Object(a["h"])(),Object(a["c"])("div",P,[Object(a["f"])("div",C,[Object(a["f"])("span",A,Object(a["n"])(e.title),1),Object(a["f"])("button",{onClick:t[1]||(t[1]=function(){return e.clear&&e.clear.apply(e,arguments)})},"clear"),Object(a["f"])("span",W,[Object(a["f"])("button",{class:{selected:"single"===e.modelValue.type},onClick:t[2]||(t[2]=function(){return e.makeSingle&&e.makeSingle.apply(e,arguments)})}," dot ",2),Object(a["f"])("button",{class:{selected:"vector"===e.modelValue.type},onClick:t[3]||(t[3]=function(){return e.makeVector&&e.makeVector.apply(e,arguments)})}," arrow ",2),Object(a["f"])("button",{class:{selected:"multiple"===e.modelValue.type},onClick:t[4]||(t[4]=function(){return e.makeMultiple&&e.makeMultiple.apply(e,arguments)})}," multiple ",2)]),"multiple"!==e.modelValue.type?Object(a["p"])((Object(a["h"])(),Object(a["c"])("select",{key:0,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.animation=t}),title:"Animation"},[_],512)),[[a["o"],e.animation]]):Object(a["d"])("",!0)]),Object(a["f"])(r,{value:e.modelValue,onMouse:e.onMouse},null,8,["value","onMouse"])])})),q=n("5530");n("caad"),n("2532"),n("99af");function B(){return Date.now()/9e3%1}function L(e,t){return{x:e.x*t.x-e.y*t.y,y:e.x*t.y+e.y*t.x}}function T(e,t){return{x:t*Math.cos(e),y:t*Math.sin(e)}}var D=Object(a["g"])({name:"ValueEditor",components:{ValueDisplay:M},props:{title:String,modelValue:{type:Object,required:!0}},emits:["update:modelValue"],data:function(){return{animation:"none",animate:!1,lastTime:B()}},mounted:function(){this.animate=!0,this.doAnimation()},unmounted:function(){this.animate=!1},methods:{doAnimation:function(){var e=this,t=this.lastTime,n=B();if("multiple"===this.modelValue.type)this.animation="none";else{var a=this.modelValue.value,i=2*Math.PI;if(this.animation.includes("figure8")&&(t=0,a={x:Math.cos(n*i*1),y:Math.sin(n*i*2)/2}),this.animation.includes("spin")){var o=t*i,l=n*i;a=L(a,T(l-o,1))}if(this.animation.includes("wiggle")){var r=5,u=.3,s=Math.sin(r*t*i)*u,c=Math.sin(r*n*i)*u;a=L(a,T(c-s,1))}if(this.animation.includes("wobble")){var d=2;this.animation.includes("spin")&&(d=5),this.animation.includes("figure8")&&(d=6);var p=.3,h=Math.sin(d*t*i)*p+1,b=Math.sin(d*n*i)*p+1;a=L(a,T(0,b/h))}this.$emit("update:modelValue",Object(q["a"])(Object(q["a"])({},this.modelValue),{},{value:a}))}this.lastTime=n,this.animate&&requestAnimationFrame((function(){return e.doAnimation()}))},onMouse:function(e){if(e.mouseDown)if("single"===this.modelValue.type||"vector"===this.modelValue.type){var t=e.x,n=e.y;this.$emit("update:modelValue",{type:this.modelValue.type,value:{x:t,y:n}})}else if("multiple"===this.modelValue.type){var a=e.x,i=e.y,o=this.modelValue.value;this.$emit("update:modelValue",{type:"multiple",value:[].concat(Object(f["a"])(o),[{x:a,y:i}])})}},clear:function(){"single"===this.modelValue.type?this.makeSingle():"multiple"===this.modelValue.type&&this.makeMultiple()},makeSingle:function(){this.$emit("update:modelValue",{type:"single",value:{x:1,y:0}})},makeVector:function(){this.$emit("update:modelValue",{type:"vector",value:{x:0,y:1}})},makeMultiple:function(){this.$emit("update:modelValue",{type:"multiple",value:[]})}}});n("2976");D.render=E,D.__scopeId="data-v-5b0678be";var F=D,$=Object(a["g"])({name:"App",components:{ValueEditor:F,ResultEditor:S},data:function(){return{a:{type:"single",value:{x:1,y:0}},b:{type:"single",value:{x:1,y:0}}}}});n("573f");$.render=r,$.__scopeId="data-v-217d18c9";var I=$,G=Object(a["g"])({name:"App",components:{TheMainPart:I}});n("ffee");G.render=i;var R=G;Object(a["b"])(R).mount("#app")},ffee:function(e,t,n){"use strict";n("b082")}});
//# sourceMappingURL=app.bdaaf5ff.js.map